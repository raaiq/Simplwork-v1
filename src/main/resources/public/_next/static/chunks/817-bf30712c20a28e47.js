"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{2325:function(e,s,a){a.d(s,{Z:function(){return c}});var l=a(5893),i=a(7294),n=a(1163),t=a(8582),r=a(9411);let c=e=>{let{children:s}=e,a=(0,n.useRouter)(),{user:c,isLoggedIn:d}=(0,t.aC)(),[o,m]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{m(!0),c&&d||(localStorage.getItem("userType"),a.replace("/signin")),c&&d&&m(!1)},[c,a,d]),o)?(0,l.jsx)("div",{className:"flex items-center justify-center w-full h-screen animate-spin",children:(0,l.jsx)(r.frZ,{className:"w-12 h-12 text-[#64B1EC]"})}):(0,l.jsx)(l.Fragment,{children:s})}},7532:function(e,s,a){a.d(s,{r:function(){return r}});var l=a(5893),i=a(7294),n=a(6811),t=a(4016);let r=e=>{let{candidateView:s,props:a}=e,[r,c]=(0,i.useState)(!1),d=()=>(0,l.jsx)(n.m,{...a});return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between pb-2",children:[(0,l.jsx)("h1",{className:"text-lg font-semibold self-end",children:"Availability"}),(0,l.jsxs)("div",{className:"flex gap-3 self-end",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-[#3182CE] rounded-full"}),(0,l.jsx)("h1",{className:"font-medium text-sm",children:"Job Shift Schedule"}),(0,l.jsx)("div",{className:"w-3 h-3 ml-5 bg-[#63B3ED] rounded-full"}),(0,l.jsx)("h1",{className:"font-medium",children:s?"My Availability":"Candidate Availability"})]}),(0,l.jsx)(t.f,{open:r,setOpen:c,title:"View Availability",description:"",triggerLabel:"Expand",children:(0,l.jsx)("div",{className:"h-auto w-[60vw] max-w-5xl",children:d()})})]}),d()]})}},9528:function(e,s,a){a.d(s,{G_:function(){return m},Ye:function(){return p},re:function(){return h}});var l=a(5893),i=a(7294),n=a(5238),t=a(3105),r=a(2130),c=a(5021),d=a(5935);let o=e=>{let s=e.map(e=>{let{dayOfWeek:s}=e;return s}),a=[{day:"M",available:!1},{day:"T",available:!1},{day:"W",available:!1},{day:"T",available:!1},{day:"F",available:!1},{day:"S",available:!1},{day:"S",available:!1}];return s.forEach(e=>a[e-1].available=!0),a.unshift(a.pop()),(0,l.jsx)("div",{className:"flex gap-0.5 font-medium text-gray-700",children:a.map((e,s)=>{let{day:a,available:i}=e;return(0,l.jsx)("p",{className:"".concat(i&&"text-sw-300 font-bold"),children:a},"".concat(s).concat(a))})})},m=(0,i.memo)(e=>{let{post:s,status:a="",active:i}=e,m=a,x="bg-green-100",u="text-green-600";return"APPLIED"===a?m="Applied":"INTERVIEW_OFFER"==a?(m="Interview Offered",x="bg-sky-100",u="text-sky-600"):"ACCEPT_INTERVIEW"===a?(m="Interview Accepted",x="bg-indigo-100",u="text-indigo-600"):"WITHDRAWN"===a&&(m="Withdrawn",x="bg-gray-100",u="text-gray-600"),(0,l.jsxs)(c.Z,{className:"p-4 text-start ring-sw hover:ring transition-shadow duration-150 ".concat(i&&"ring"),children:[(0,l.jsxs)("div",{className:"w-full flex flex-col gap-3 overflow-hidden",children:[(0,l.jsxs)("div",{className:"flex gap-4",children:[(0,l.jsxs)("div",{className:"flex flex-col flex-grow",children:[(0,l.jsx)("h5",{className:"font-semibold",children:s.positionTitle}),(0,l.jsx)("p",{className:"font-medium text-gray-500",children:s.employer.companyName})]}),(0,l.jsx)("div",{className:"",children:a?(0,l.jsx)("div",{className:"".concat(x," ").concat(u," text-sm font-medium px-2 py-1 rounded-md"),children:m}):(0,l.jsx)("button",{className:"bg-sw-50 text-sw-400 text-sm font-medium px-2 py-1 rounded-md text-now whitespace-nowrap",children:"Click to apply"})})]}),(0,l.jsxs)("div",{className:"flex gap-2 w-full flex-wrap",children:[!!s.pay&&(0,l.jsx)(t.M,{icon:(0,l.jsx)(n.sF1,{}),children:"$".concat(s.pay,"/hr")}),s.shifts.length>0&&(0,l.jsx)(t.M,{icon:(0,l.jsx)(n.sHf,{}),children:o(s.shifts)}),!s.isFixedSchedule&&s.estimatedHours>=0&&(0,l.jsx)(t.M,{icon:(0,l.jsx)(n.iNe,{}),children:"".concat(s.estimatedHours," hrs")})]}),(0,l.jsx)("div",{className:"w-full text-gray-600 line-clamp-2",children:(0,d.ZP)(s.jobDescription)})]}),(0,l.jsx)("p",{className:"text-xs pt-3 text-gray-500",children:(0,r.Yu)(s.createdAt)})]})});m.displayName="PostPreview";var x=a(1664),u=a.n(x);let h=()=>(0,l.jsxs)(c.Z,{className:"grid grid-cols-12 p-4 gap-3 animate-pulse",children:[(0,l.jsxs)("div",{className:"w-full col-span-12 grid grid-cols-12",children:[(0,l.jsxs)("div",{className:"col-span-7 w-full grid grid-cols-10 gap-2",children:[(0,l.jsx)("div",{className:"h-5 bg-gray-300 rounded col-span-7"}),(0,l.jsx)("div",{className:"h-5 bg-gray-300 rounded col-span-4 col-start-1"})]}),(0,l.jsx)("div",{className:"h-7 bg-gray-300 rounded col-span-2 col-start-11"})]}),(0,l.jsx)("div",{className:"h-9 bg-gray-300 rounded-full col-span-3 col-start-1"}),(0,l.jsx)("div",{className:"h-9 bg-gray-300 rounded-full col-span-3"}),(0,l.jsx)("div",{className:"h-9 bg-gray-300 rounded-full col-span-3"}),(0,l.jsxs)("div",{className:"h-12 w-full col-span-12 grid grid-cols-12 justify-center items-center",children:[(0,l.jsx)("div",{className:"h-[75%] bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-[75%] bg-gray-300 rounded col-span-12"})]}),(0,l.jsx)("div",{className:"h-4 bg-gray-300 rounded col-span-3"})]}),p=e=>{let{posts:s,selectedPost:a,isLoading:i,isSuccess:n}=e;return(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[i&&[...Array(10).fill(0)].map((e,s)=>(0,l.jsx)(h,{},s)),n&&(0,l.jsx)(l.Fragment,{children:s.length>0?s.map((e,s)=>{let{posting:i,candidateStatus:n}=e;return(0,l.jsx)(u(),{scroll:!1,prefetch:!1,href:{pathname:"/",query:{id:s}},className:"w-full",children:(0,l.jsx)(m,{post:i,status:n,active:a===s})},"".concat(i.id).concat(s))}):(0,l.jsx)("div",{className:"w-full flex flex-col justify-center items-center rounded-xl bg-gray-200",children:(0,l.jsx)("p",{className:"py-10 font-medium ",children:"No Posts available, Please try again"})})})]})}},3105:function(e,s,a){a.d(s,{z:function(){return c},M:function(){return i}});var l=a(5893);let i=e=>{let{children:s,icon:a}=e;return(0,l.jsxs)("div",{className:"bg-sw-600/10 text-gray-700 flex justify-center items-center px-2 py-1.5 rounded-full text-xs font-medium tracking-wider gap-1.5 pointer-events-none",children:[(0,l.jsx)("span",{className:"rounded-full bg-sw-900/20 text-base p-1",children:a}),s]})};var n=a(5238),t=a(1763),r=a(2130);let c=e=>{let{distance:s,CarCommuteTime:a,bikeCommuteTime:c,walkCommuteTime:d,publicTransiteCommuteTime:o}=e;return(0,l.jsxs)("div",{className:"flex gap-3 text-gray-600 flex-nowrap",children:[void 0!=s&&null!=s&&(0,l.jsx)(i,{icon:(0,l.jsx)(n.vcr,{}),children:(0,l.jsx)("p",{children:"".concat((0,r.mn)(s))})}),void 0!=a&&null!=a&&(0,l.jsx)(i,{icon:t.H.CAR.icon,children:(0,l.jsx)("p",{children:"".concat(a," min")})}),void 0!=c&&null!=c&&(0,l.jsx)(i,{icon:t.H.BIKE.icon,children:(0,l.jsx)("p",{children:"".concat(c," min")})}),void 0!=d&&null!=d&&(0,l.jsx)(i,{icon:t.H.WALK.icon,children:(0,l.jsx)("p",{children:"".concat(d," min")})}),void 0!=o&&null!=o&&(0,l.jsx)(i,{icon:t.H.PUBLIC_TRANSIT.icon,children:(0,l.jsx)("p",{children:"".concat(o," min")})})]})}},5232:function(e,s,a){a.d(s,{SO:function(){return v}});var l=a(5893),i=a(7294),n=a(5021),t=a(8582),r=a(7532),c=a(7848),d=a(4098),o=a(5935),m=a(7226);let x=e=>{var s,a;let{post:i}=e,{user:n}=(0,t.aC)(),x=i.posting.shifts,{data:u,isLoading:h,isError:p}=(0,c.a)(d.o$.candidate.getCandidate(null!==(s=null==n?void 0:n.credential)&&void 0!==s?s:"")),g=null!==(a=i.posting.estimatedHours)&&void 0!==a?a:0;if(!g){let e=0;g=(e=x.reduce((e,s)=>e+(s.shiftTimes.endTime-s.shiftTimes.startTime),e))/60}return(0,l.jsxs)("div",{className:"flex flex-col gap-4 p-5",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"font-semibold text-2xl pb-2",children:i.posting.positionTitle}),(0,l.jsxs)("div",{className:"flex flex-col",children:[!!i.posting.pay&&(0,l.jsxs)("div",{className:" font-medium",children:["Pay: ",(0,l.jsxs)("span",{className:"font-bold",children:["$",i.posting.pay,"/hr"]})]}),i.posting.shifts&&(0,l.jsxs)("div",{className:" font-medium",children:["Hours allocated for job: ",(0,l.jsxs)("span",{className:"font-bold",children:[g," hours"]})]}),i.matchingHours&&(0,l.jsxs)("div",{className:"font-medium",children:["Hours matching your availability: ",(0,l.jsxs)("span",{className:"font-bold",children:[i.posting.isFixedSchedule?i.matchingHours:i.posting.estimatedHours," hours"]})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,l.jsx)("h1",{className:"font-semibold text-lg",children:"Job Description"}),(0,l.jsx)("div",{className:"text-gray-500",children:(0,o.ZP)(i.posting.jobDescription.replaceAll("\n","<br>"))})]}),(0,l.jsx)("div",{className:"pr-1",children:(0,l.jsx)(r.r,{props:{shifts:(0,m.TI)(x),availability:(0,m.on)(null==u?void 0:u.availability)},candidateView:!0})})]})};var u=a(3105),h=a(5945),p=a(8228),g=a(5121);let j=e=>{var s,a;let{post:i}=e,n=(0,h.NL)();i.candidateStatus;let{mutate:t}=(0,p.D)({mutationFn:e=>{let{id:s,status:a}=e;return d.rR.post("candidate/postings/setStatus?id=".concat(s.toString(),"&status=").concat(a))},onSuccess:()=>n.invalidateQueries(),onError:e=>{var s;g.Z.isAxiosError(e)&&((null===(s=e.response)||void 0===s?void 0:s.status)?alert("Unable to apply to job: your availability do not match the required job schedule"):alert("Something went wrong. Please try again."))}}),r=e=>t({id:i.posting.id,status:e});return(0,l.jsxs)("div",{className:"bg-[#64B1EC]/10 border-b p-5 flex flex-col gap-4 overflow-auto",children:[(0,l.jsxs)("div",{className:"h-auto flex gap-4",children:[(0,l.jsx)("div",{className:"h-20 w-20 bg-blue-300 rounded-md shrink-0"}),(0,l.jsx)("div",{className:"grow",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("div",{className:"flex flex-col grow",children:[(0,l.jsx)("h1",{className:"font-semibold text-xl",children:i.posting.employer.companyName}),(0,l.jsx)("p",{className:"font-medium text-lg  ",children:null===(s=i.posting.employer)||void 0===s?void 0:s.branches[0].branchName}),(0,l.jsx)("span",{className:"font-normal text-gray-600",children:null===(a=i.posting.employer)||void 0===a?void 0:a.branches[0].location.fullAddress})]}),(0,l.jsxs)("div",{className:"flex flex-col justify-center gap-2 ",children:[!!i.candidateStatus&&"INTERVIEW_OFFER"===i.candidateStatus&&(0,l.jsx)("button",{className:"btn-blue whitespace-nowrap",onClick:()=>r("ACCEPT_INTERVIEW"),children:"Accept Offer"}),i.candidateStatus&&"WITHDRAWN"!==i.candidateStatus?(0,l.jsx)("button",{className:"btn-red",onClick:()=>r("WITHDRAWN"),children:"Withdraw"}):(0,l.jsx)("button",{className:"btn-blue",onClick:()=>r("APPLIED"),children:"Apply"})]})]})})]}),(0,l.jsx)("div",{className:"text-md text-gray-600",children:(0,o.ZP)(i.posting.employer.companyDescription)}),(0,l.jsx)(u.z,{distance:i.distance,CarCommuteTime:i.carCommuteTime,bikeCommuteTime:i.bikeCommuteTime,walkCommuteTime:i.walkCommuteTime,publicTransiteCommuteTime:i.shiftCompatibilities&&i.shiftCompatibilities[0].arrivalTransitInfo})]})},f=()=>(0,l.jsxs)(n.Z,{className:"bg-white rounded-md border border-gray-200 animate-pulse mt-1",children:[(0,l.jsxs)("div",{className:" grid grid-cols-12 gap-3",children:[(0,l.jsx)("div",{className:"h-20 w-20 bg-gray-300 rounded col-span-2 row-span-2"}),(0,l.jsx)("div",{className:"h-5 bg-gray-300 rounded col-span-7"}),(0,l.jsx)("div",{className:"h-4 bg-gray-300 rounded col-span-6"})]}),(0,l.jsxs)("div",{className:"gap-3 grid grid-cols-12",children:[(0,l.jsx)("div",{className:"h-4 bg-gray-300 rounded col-span-4 col-start-1"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"}),(0,l.jsx)("div",{className:"h-2 bg-gray-300 rounded col-span-12"})]})]}),v=(0,i.memo)(e=>{let{post:s,isLoading:a,isSuccess:i}=e;return(0,l.jsxs)(l.Fragment,{children:[a&&(0,l.jsx)(f,{}),i&&(0,l.jsx)(l.Fragment,{children:s?(0,l.jsxs)(n.Z,{className:"sticky top-[80px] max-h-[90vh] overflow-auto p-0",children:[(0,l.jsx)(j,{post:s}),(0,l.jsx)(x,{post:s})]}):(0,l.jsx)("div",{className:"w-full flex py-10 flex-col justify-center items-center rounded-xl bg-gray-200",children:(0,l.jsx)("p",{className:"py-10 font-medium ",children:"Post not available, Please try again"})})})]})});v.displayName="Post"}}]);