(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6896:function(e,l,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return i(7579)}])},7579:function(e,l,i){"use strict";i.r(l),i.d(l,{default:function(){return R}});var a=i(5893),s=i(9008),n=i.n(s),r=i(7848),t=i(8582),c=i(2325),d=i(9510),o=i(4098),m=i(8233),u=i(7294),x=i(7082),h=i(5395),v=i(5589),p=i(5945),j=i(8228),f=i(5497),b=i(5021);let y=e=>{var l,i,s,n,r,t;let{profileData:c,afterSave:d}=e,m=(0,p.NL)(),[y,g]=(0,u.useState)(!1),N={fullName:null!==(l=c.candidateName)&&void 0!==l?l:"",gender:null!==(i=c.gender)&&void 0!==i?i:"",phoneNumber:null!==(s=c.phoneNumber)&&void 0!==s?s:"",age:null!==(n=c.age)&&void 0!==n?n:"",commuteTypes:c.maxTravelTimes?Object.keys(c.maxTravelTimes).map(e=>e):[],maxTravelTimes:null!==(r=c.maxTravelTimes)&&void 0!==r?r:"",maximumHours:null!==(t=c.maximumHours)&&void 0!==t?t:""},{mutateAsync:T}=(0,j.D)({mutationFn:o.xm,onSuccess:()=>m.invalidateQueries({queryKey:["candidate"]}),onError:()=>{alert("There was an issue updating your profile, please try again later."),d()}}),w=async e=>{let{fullName:l,age:i,gender:a,phoneNumber:s}=e;await T([{op:"replace",path:"/user/name",value:l},{op:"replace",path:"/user/age",value:i},{op:"replace",path:"/user/gender",value:a},{op:"replace",path:"/user/phoneNumber",value:s}])},C=async e=>{let{maxTravelTimes:l}=e;await T([{op:"replace",path:"/candidateProfile/maxTravelTimes",value:l}])},A=async e=>{let{maximumHours:l}=e;await T([{op:"replace",path:"/candidateProfile/maximumHours",value:l}])};return(0,a.jsxs)(v.i,{initialValues:N,onSubmit:e=>{g(!0),w(e),C(e),A(e),d()},validationSchema:f.F,formDisabled:y,children:[(0,a.jsxs)(b.Z,{className:"bg-gray-50 rounded-xl my-5",children:[(0,a.jsx)("h1",{className:"font-semibold text-xl",children:"Profile"}),(0,a.jsx)(x.r,{})]}),(0,a.jsxs)(b.Z,{className:"bg-gray-50 rounded-xl my-5",children:[(0,a.jsx)("h1",{className:"font-semibold text-xl mb-2",children:"Work Availability"}),(0,a.jsx)(h.J,{name:"maximumHours",label:"Maximum work hours"})]}),(0,a.jsxs)(b.Z,{className:"bg-gray-50 rounded-xl my-5",children:[(0,a.jsx)("h1",{className:"font-semibold text-xl mb-2",children:"Commute Prefrences"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 grid-rows-2 gap-5 pb-5",children:[(0,a.jsx)(h.J,{name:"maxTravelTimes.CAR",label:"Commute by car",type:"number"}),(0,a.jsx)(h.J,{name:"maxTravelTimes.BIKE",label:"Commute by bicycle",type:"number"}),(0,a.jsx)(h.J,{name:"maxTravelTimes.WALK",label:"Commute by walking",type:"number"}),(0,a.jsx)(h.J,{name:"maxTravelTimes.PUBLIC_TRANSIT",label:"Commute by public transit",type:"number"})]})]})]})};var g=i(4016),N=i(5238);let T=e=>{let{profileData:l}=e,[i,s]=(0,u.useState)(!1);return(0,a.jsx)(g.f,{open:i,setOpen:s,triggerLabel:(0,a.jsx)(N.zmo,{}),triggerClassName:"light-blue-round-btn",title:"Edit Profile",description:"Make changes to your profile here. Click save when you're done.",children:(0,a.jsx)(y,{profileData:l,afterSave:()=>s(!1)})})},w=e=>{let{title:l,children:i}=e;return(0,a.jsxs)("div",{className:"flex items-end pb-3 gap-3",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold ",children:l}),i]})};var C=i(9316),A=i(3766),E=i(2146),S=i(5066),k=i(7226),L=i(6811);let _=e=>{let{onSave:l,isLoading:i,availability:s}=e,[n,r]=(0,u.useState)(!1),t=s?(0,k.on)(s):(0,k.yu)();return(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold self-center",children:"Availability"}),(0,a.jsx)(g.f,{open:n,setOpen:r,title:"Edit Availability",description:"Select the time and days that you are available to work.",triggerLabel:"Edit Availability",children:(0,a.jsx)(S.J9,{initialValues:{availability:{availability:t,IsAvailability:!0}},validationSchema:f.aO,onSubmit:function(e){l((0,k.r3)(e.availability.availability)),r(!1)},children:(0,a.jsxs)(S.l0,{children:[(0,a.jsx)(E.I,{name:"availability"}),(0,a.jsx)("div",{className:"self-end",children:(0,a.jsx)(A.R,{})})]})})})]}),(0,a.jsx)(L.m,{availability:t,setEvents:null})]})},P=e=>{let{availability:l}=e,i=(0,p.NL)(),{mutate:s,isLoading:n}=(0,j.D)({mutationFn:o.xm,onSuccess:()=>i.invalidateQueries({queryKey:["candidate"]}),onError:()=>alert("There was an issue updating your availability, please try again later.")});return(0,a.jsx)(_,{onSave:e=>s([{op:"replace",path:"/candidateProfile/availability",value:e}]),isLoading:n,availability:l})};var I=i(9411),H=i(9263),R=()=>{var e,l;let{user:i}=(0,t.aC)(),{data:s,isLoading:u,isError:x}=(0,r.a)(o.o$.candidate.getCandidate(null!==(e=null==i?void 0:i.credential)&&void 0!==e?e:""));return u?(0,a.jsx)("div",{children:"Loading"}):x?(0,a.jsx)("div",{children:"error"}):(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(n(),{children:(0,a.jsx)("title",{children:"Profile - Simplwork"})}),(0,a.jsxs)("div",{className:"w-full overflow-hidden py-10",children:[(0,a.jsxs)("div",{className:"h-auto flex px-5 gap-7 items-center pb-10",children:[(0,a.jsx)(H.m,{image:null==i?void 0:i.picture}),s&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-4xl font-semibold",children:s.candidateName}),(0,a.jsx)("h1",{className:"text-lg text-gray-600",children:s.email})]})]}),(0,a.jsxs)("div",{className:"px-5 flex gap-4",children:[(0,a.jsxs)("div",{className:"w-6/12 h-auto",children:[(0,a.jsx)(w,{title:"My Experience",children:(0,a.jsx)(m.X,{triggerLabel:(0,a.jsx)(I.R6b,{}),triggerClassName:"light-blue-round-btn"})}),(0,a.jsx)("div",{className:"max-h-[800px] overflow-y-auto pr-2 pb-3",children:(0,a.jsx)(d.C,{history:null!==(l=null==s?void 0:s.workHistory)&&void 0!==l?l:[],renderButtons:!0})})]}),(0,a.jsxs)("div",{className:"w-6/12 flex flex-col gap-5 ",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(w,{title:"My Information",children:(0,a.jsx)(T,{profileData:s})}),(0,a.jsx)(C.O,{candidate:s})]}),(0,a.jsx)(b.Z,{className:"bg-white",children:(0,a.jsx)(P,{availability:null==s?void 0:s.availability})})]})]})]})]})}},2325:function(e,l,i){"use strict";i.d(l,{Z:function(){return c}});var a=i(5893),s=i(7294),n=i(1163),r=i(8582),t=i(9411);let c=e=>{let{children:l}=e,i=(0,n.useRouter)(),{user:c,isLoggedIn:d}=(0,r.aC)(),[o,m]=(0,s.useState)(!1);return((0,s.useEffect)(()=>{m(!0),c&&d||(localStorage.getItem("userType"),i.replace("/signin")),c&&d&&m(!1)},[c,i,d]),o)?(0,a.jsx)("div",{className:"flex items-center justify-center w-full h-screen animate-spin",children:(0,a.jsx)(t.frZ,{className:"w-12 h-12 text-[#64B1EC]"})}):(0,a.jsx)(a.Fragment,{children:l})}},3105:function(e,l,i){"use strict";i.d(l,{z:function(){return c},M:function(){return s}});var a=i(5893);let s=e=>{let{children:l,icon:i}=e;return(0,a.jsxs)("div",{className:"bg-sw-600/10 text-gray-700 flex justify-center items-center px-2 py-1.5 rounded-full text-xs font-medium tracking-wider gap-1.5 pointer-events-none",children:[(0,a.jsx)("span",{className:"rounded-full bg-sw-900/20 text-base p-1",children:i}),l]})};var n=i(5238),r=i(1763),t=i(2130);let c=e=>{let{distance:l,CarCommuteTime:i,bikeCommuteTime:c,walkCommuteTime:d,publicTransiteCommuteTime:o}=e;return(0,a.jsxs)("div",{className:"flex gap-3 text-gray-600 flex-nowrap",children:[void 0!=l&&null!=l&&(0,a.jsx)(s,{icon:(0,a.jsx)(n.vcr,{}),children:(0,a.jsx)("p",{children:"".concat((0,t.mn)(l))})}),void 0!=i&&null!=i&&(0,a.jsx)(s,{icon:r.H.CAR.icon,children:(0,a.jsx)("p",{children:"".concat(i," min")})}),void 0!=c&&null!=c&&(0,a.jsx)(s,{icon:r.H.BIKE.icon,children:(0,a.jsx)("p",{children:"".concat(c," min")})}),void 0!=d&&null!=d&&(0,a.jsx)(s,{icon:r.H.WALK.icon,children:(0,a.jsx)("p",{children:"".concat(d," min")})}),void 0!=o&&null!=o&&(0,a.jsx)(s,{icon:r.H.PUBLIC_TRANSIT.icon,children:(0,a.jsx)("p",{children:"".concat(o," min")})})]})}},9263:function(e,l,i){"use strict";i.d(l,{m:function(){return r}});var a=i(5893),s=i(5675),n=i.n(s);let r=e=>{let{image:l}=e;return(0,a.jsx)("div",{className:"rounded-full w-[150px] h-[150px] bg-sw-100 overflow-hidden flex justify-center items-center shadow-lg ",children:(0,a.jsx)("div",{className:"w-[140px] h-[140px] rounded-full relative overflow-hidden ",children:l&&(0,a.jsx)(n(),{className:"object-cover",src:l.replace("s96-c","s384-c"),alt:"profile picture",fill:!0,quality:100,priority:!0,placeholder:"blur",blurDataURL:l})})})}},9316:function(e,l,i){"use strict";i.d(l,{O:function(){return r},w:function(){return t}});var a=i(5893),s=i(5021),n=i(3105);i(7294);let r=e=>{let{candidate:l}=e;return(0,a.jsxs)(s.Z,{className:"flex flex-col gap-3 overflow-hidden",children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("h1",{className:"font-semibold",children:"Email:"}),(0,a.jsx)("p",{children:null==l?void 0:l.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-semibold",children:"Gender:"}),(0,a.jsx)("p",{children:l.gender.charAt(0)+l.gender.slice(1).toLowerCase()})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-semibold",children:"Age:"}),(0,a.jsx)("p",{children:null==l?void 0:l.age})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-semibold",children:"Phone Number:"}),(0,a.jsx)("p",{children:t(l.phoneNumber)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-semibold",children:"Address:"}),(0,a.jsx)("p",{children:null==l?void 0:l.fullAddress})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-semibold pb-1",children:"Maximum Work Hours:"}),(0,a.jsx)("p",{children:null==l?void 0:l.maximumHours})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"font-semibold pb-1",children:"Commute Preferences:"}),(0,a.jsx)(n.z,{CarCommuteTime:l.maxTravelTimes.CAR,bikeCommuteTime:l.maxTravelTimes.BIKE,walkCommuteTime:l.maxTravelTimes.WALK,publicTransiteCommuteTime:l.maxTravelTimes.PUBLIC_TRANSIT})]})]})};function t(e){let l=[e.slice(1,4),e.slice(4,7),e.substring(7)];return"+1 (".concat(l[0],")-").concat(l[1],"-").concat(l[2])}}},function(e){e.O(0,[228,955,69,570,688,705,953,356,312,258,443,46,888,774,179],function(){return e(e.s=6896)}),_N_E=e.O()}]);