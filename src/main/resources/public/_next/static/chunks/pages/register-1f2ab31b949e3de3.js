(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{436:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return l(7379)}])},7379:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return A}});var a=l(5893),n=l(1163),s=l(7294),i=l(6494),r=l(8582),c=l(1303),o=l(4098),d=l(5856),u=l(7082);let m=(e,t,l,a)=>{let n={WALK:20,BIKE:30,CAR:90,PUBLIC_TRANSIT:90};if(0!==e.commuteTypes.length){let t=new Map;e.commuteTypes.map(l=>t.set(l,e.maxTravelTimes[l])),n=Object.fromEntries(t)}return{candidateProfile:{workHistory:[],minimumPay:0,maximumHours:e.maximumHours,location:t,availability:l,maxLiftWeight:0,maxTravelTimes:n,autoMatch:!0},user:{email:a,age:e.age,gender:e.gender.toUpperCase(),phoneNumber:e.phoneNumber,name:e.fullName}}};var x=l(1735),p=l(6720),h=l(5066),f=l(7226),j=l(1763);let g=e=>{let{values:t}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(h.F2,{name:"maxTravelTimes",render:e=>(0,a.jsx)("div",{className:"flex  flex-col gap-5 justify-between",children:Object.values(j.H).map((e,l)=>{let{value:n,text:s,icon:i}=e;return(0,a.jsxs)("label",{className:"flex flex-row items-center gap-5 w-full justify-center",children:[(0,a.jsx)(h.gN,{type:"checkbox",name:"commuteTypes",value:n,label:s,icon:i,component:j.x}),(0,a.jsx)("div",{className:"w-40",children:(0,a.jsxs)("div",{className:t.commuteTypes.includes(n)?"content":"hidden",children:[(0,a.jsx)(h.gN,{type:"number",min:0,max:1e3,name:"maxTravelTimes.".concat(n),placeholder:"min",className:"inputStyle w-20"}),(0,a.jsx)("span",{className:"font-medium ml-2",children:" minutes"})]})})]},"".concat(s).concat(l))})})})})};var v=l(7848),b=l(5335),N=l(8233),y=l(9510);let w=e=>{var t,l;let{user:s}=(0,r.aC)(),i=(0,n.useRouter)(),{data:c,isLoading:d,isError:u}=(0,v.a)(o.o$.candidate.getCandidate(null!==(t=null==s?void 0:s.credential)&&void 0!==t?t:""));return(u&&i.push("/"),d)?(0,a.jsx)("div",{children:"Loading..."}):(null==c?void 0:c.workHistory.length)==0?(0,a.jsx)(b.T,{}):(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)("div",{className:"max-h-[400px] overflow-y-auto pr-1",children:(0,a.jsx)(y.C,{history:null!==(l=null==c?void 0:c.workHistory)&&void 0!==l?l:[],renderButtons:!0})}),(0,a.jsx)("div",{className:"self-end",children:(0,a.jsx)(N.X,{triggerLabel:"Add Experience"})})]})};var k=l(5497),C=l(2146);let _={fullName:"",gender:"",age:"",phoneNumber:"",location:{postalCode:"",fullAddress:"",latitude:NaN,longitude:NaN},maximumHours:"",commuteTypes:["WALK","PUBLIC_TRANSIT"],maxTravelTimes:{WALK:15,BIKE:25,CAR:90,PUBLIC_TRANSIT:90},workHistory:[],availability:{IsAvailability:!1,availability:(0,C.D)().map((e,t)=>{let l=new Map;return l.set(e.id,e),l})}},S=[k.F,k.DY,k.he,k.pn],T=e=>{let{credential:t,resetSignUp:l}=e,j=(0,n.useRouter)(),{user:v,signInUser:b}=(0,r.aC)(),[N,y]=(0,s.useState)(-1),[k,T]=(0,s.useState)(!1);return(0,a.jsx)(x.v,{step:N,stepProgressHeaders:[{name:"Warning",description:"Please use desktop for best user experience",stepId:-1},{name:"Create Profile",description:"Create your SimplWork profile",stepId:0},{name:"Commute Preferences",description:"How far can you travel for work",stepId:1},{name:"Work Availability",description:"What times are you available to work throughout the week",stepId:2},{name:"Work Experience",description:"Enter your work experience",stepId:3}],children:k?(0,a.jsxs)(i.h,{children:[(0,a.jsx)(d.l,{title:"Work Experience",subtitle:"Add work experience to help"}),(0,a.jsx)(w,{}),(0,a.jsx)("button",{className:"btn-blue ",onClick:()=>{b(t),j.push("/")},children:"Complete"})]}):(0,a.jsx)(h.J9,{initialValues:_,onSubmit:e=>{if(2===N){let t=(0,f.r3)(e.availability.availability),l=m(e,e.location,t,null==v?void 0:v.email);console.log(JSON.stringify(l,null,2)),o.rR.post("candidate",JSON.stringify(l)).then(e=>{T(!0)}).catch(e=>{alert("There was an issue creating your account, Please try again.")})}y(e=>e+1)},validationSchema:S[N],children:e=>{let{values:t}=e;return(0,a.jsxs)(h.l0,{noValidate:!0,children:[-1===N&&(0,a.jsxs)(i.h,{children:[(0,a.jsx)(d.l,{title:"Use Desktop Site",subtitle:"Please use this site with a desktop for best experience. Mobile version coming soon"}),(0,a.jsx)(p.x,{step:N,updateStep:y,renderBackButton:!1})]}),0===N&&(0,a.jsxs)(i.h,{children:[(0,a.jsx)(d.l,{title:"Create Profile",subtitle:"Enter your details to create a profile"}),(0,a.jsx)(u.r,{}),(0,a.jsx)(p.x,{step:N,updateStep:y})]}),1===N&&(0,a.jsxs)(i.h,{children:[(0,a.jsx)(d.l,{title:"Add Commute Preferences",subtitle:"Enter your details to create a profile"}),(0,a.jsx)(c.Q,{name:"location"}),(0,a.jsxs)("div",{className:"flex flex-col gap-5",children:[(0,a.jsx)("h1",{className:"text-md pt-3 font-medium",children:"Select the modes of transport available to you and the maximum amount of time you are willing to commute each way"}),(0,a.jsx)(g,{values:t})]}),(0,a.jsx)(p.x,{step:N,updateStep:y,renderBackButton:!0})]}),2===N&&(0,a.jsxs)(i.h,{children:[(0,a.jsx)(d.l,{title:"Add Work Availability",subtitle:"Enter your details to create a profile"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("label",{className:"font-medium leading-[35px]",htmlFor:"maximumHours",children:"I can work up to"}),(0,a.jsx)("div",{className:"px-2 w-20",children:(0,a.jsx)(h.gN,{type:"number",name:"maximumHours",required:!0,className:"inputStyle"})}),(0,a.jsx)("label",{className:"font-medium leading-[35px]",children:"hours per week"})]}),(0,a.jsx)(h.Bc,{name:"maximumHours",render:e=>(0,a.jsx)("p",{className:"text-sm font-medium text-red-700",children:e})})]}),(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"overflow-y-auto",children:(0,a.jsx)(C.I,{name:"availability"})})}),(0,a.jsx)(p.x,{step:N,updateStep:y,renderBackButton:!0})]})]})}})})};var E=l(9286);let I=()=>{let{user:e,isLoggedIn:t}=(0,r.aC)(),l=(0,n.useRouter)();return(0,s.useEffect)(()=>{e||l.replace("/signin"),e&&t&&l.replace("/")},[e,t,l]),(0,a.jsx)(T,{credential:null==e?void 0:e.credential})};I.getLayout=function(e){return(0,a.jsx)(E.T,{title:"Register",children:e})};var A=I},9286:function(e,t,l){"use strict";l.d(t,{T:function(){return i}});var a=l(5893),n=l(9008),s=l.n(n);let i=e=>{let{children:t,title:l}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s(),{children:(0,a.jsx)("title",{children:"".concat(l," - Simplwork")})}),(0,a.jsx)("main",{children:t})]})}},1303:function(e,t,l){"use strict";l.d(t,{Q:function(){return d}});var a=l(5893),n=l(7294),s=l(1575),i=l(4098),r=l(4697),c=l(5066),o=l(1174);let d=e=>{let{name:t}=e,l={place_name:"",center:[],context:null,place_type:[],text:""},[d,u]=(0,n.useState)([l]),[m,x,p]=(0,c.U$)(t),{value:h}=x,f=async e=>{if(e||(null==e?void 0:e.length)||u([l]),e){let t=e.replaceAll(/[^a-zA-Z0-9 ]/g,"");await i.rR.get("geocoding?query=".concat(t)).then(e=>{let{data:t}=e;return u(t.features.map(e=>({place_name:e.place_name,center:e.center,context:e.context,place_type:e.place_type,text:e.text})))}).catch(e=>u([l]))}},j=(0,r.y1)(f,300),{isOpen:g,highlightedIndex:v,getInputProps:b,getMenuProps:N,getItemProps:y,getLabelProps:w,selectedItem:k}=(0,s.Kb)({items:d,initialInputValue:h.fullAddress,onInputValueChange:e=>{let{inputValue:t}=e;return j(t)},itemToString:e=>{var t;return null!==(t=null==e?void 0:e.place_name)&&void 0!==t?t:""},onSelectedItemChange:e=>{let{selectedItem:t}=e;if(t){let e="";if(t.place_type.includes("postcode"))e=t.text;else if(t.context&&t.context.length){let l=t.context.find(e=>e.id.toLowerCase().includes("postcode"));l&&(e=l.text)}p.setValue({longitude:t.center[0],latitude:t.center[1],postalCode:e.replace(/\s+/g,"").toUpperCase(),fullAddress:t.place_name})}else throw Error("Selected address is null")}});return(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("label",{...w(),className:"font-medium leading-[35px]",children:"My Location:"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{...b(),className:"inputStyle"}),(0,a.jsx)("ul",{...N(),className:"absolute p-0 mt-1 bg-white shadow-md overflow-auto max-h-80 w-[450px] ".concat(!(g&&d.length)&&"hidden"),children:g&&d.length&&d.map((e,t)=>g&&(0,a.jsxs)("li",{className:"truncate p-1 border-b  ".concat(v===t&&"bg-sky-100"," ").concat((null==k?void 0:k.place_name)===e.place_name&&"text-sky-500"),...y({item:e,index:t}),children:[(0,a.jsx)("span",{className:"font-semibold",children:"".concat(e.place_name.split(",")[0])}),(0,a.jsx)("span",{className:"text-sm",children:e.place_name.split(",").splice(1).join(",")})]},"".concat(e.id).concat(t)))})]}),(0,a.jsx)(o.S,{name:t})]})}},1735:function(e,t,l){"use strict";l.d(t,{v:function(){return c}});var a=l(5893),n=l(5675),s=l.n(n),i=l(9411);let r=e=>{let{name:t,description:l,stepId:n,currStep:s}=e;return(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)(i.Moj,{className:"".concat(s===n?"text-[#64B1EC]":s>n?"text-[#64B1EC]/50":"text-neutral-400"," w-7 h-7 mt-1 shrink-0")}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("h1",{className:"".concat(s===n?"text-black":"text-neutral-500"," font-semibold text-lg tracking-wide	 "),children:t}),(0,a.jsx)("p",{className:"".concat(s===n?"text-neutral-700":"text-neutral-500"," text-base font-normal leading-5"),children:l})]})]})},c=e=>{let{step:t,stepProgressHeaders:l,children:n}=e;return(0,a.jsxs)("div",{className:"flex w-full h-screen bg-white p-5 over",children:[(0,a.jsxs)("div",{className:"bg-gray-100 items-start rounded-xl w-1/3 min-w-[450px] px-7 py-10 overflow-hidden hidden md:block",children:[(0,a.jsx)("div",{className:"pb-8",children:(0,a.jsx)(s(),{src:"/Logo-long.svg",alt:"logo",width:145,height:30})}),(0,a.jsx)("div",{className:"flex flex-col gap-6",children:l.map((e,l)=>{let{name:n,description:s,stepId:i}=e;return(0,a.jsx)(r,{name:n,description:s,stepId:i,currStep:t},"".concat(n,"-").concat(l))})})]}),(0,a.jsx)("div",{className:"flex flex-col w-full h-full gap-3 items-center justify-center p-10",children:n})]})}},6494:function(e,t,l){"use strict";l.d(t,{h:function(){return n}});var a=l(5893);let n=e=>{let{children:t}=e;return(0,a.jsx)("div",{className:"w-[450px] max-w-[450px] flex flex-col gap-5",children:t})}},5856:function(e,t,l){"use strict";l.d(t,{l:function(){return n}});var a=l(5893);let n=e=>{let{title:t,subtitle:l}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-2xl pt-3 font-medium text-center",children:t}),(0,a.jsx)("p",{className:"pt-1 text-center font-medium opacity-70",children:l})]})}},6720:function(e,t,l){"use strict";l.d(t,{x:function(){return n}});var a=l(5893);let n=e=>{let{step:t,updateStep:l,renderBackButton:n=!1}=e;return(0,a.jsxs)("div",{className:"flex w-full gap-3",children:[n&&(0,a.jsx)("button",{type:"button",onClick:()=>l(t-1),className:"w-full bg-[#64B1EC] p-3 text-white font-medium text-center items-center rounded-[4px] cursor-pointer hover:bg-[#64b1ec]/90 active:bg-[#64b1ec]/80 disabled:bg-gray-300",children:"Back"}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-[#64B1EC] p-3 text-white font-medium text-center items-center rounded-[4px] cursor-pointer hover:bg-[#64b1ec]/90 active:bg-[#64b1ec]/80 disabled:bg-gray-300",children:"Continue"})]})}}},function(e){e.O(0,[228,955,69,570,688,705,953,294,356,312,258,443,46,888,774,179],function(){return e(e.s=436)}),_N_E=e.O()}]);