(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{9835:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/e/profile",function(){return r(9851)}])},9851:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var i=r(5893),n=r(8582),a=r(2325),s=r(5021),l=r(7294),o=r(4016),u=r(5238),c=r(4098),d=r(5395),m=r(5589),p=r(5945),x=r(8228),h=r(5497);let f=e=>{var t,r;let{employerData:a,afterSave:s}=e,{employerName:o}=(0,n.aC)(),u=(0,p.NL)(),[f,y]=(0,l.useState)(!1),v={comapnyName:null!==(t=a.companyName)&&void 0!==t?t:"",companyDescription:null!==(r=a.companyDescription)&&void 0!==r?r:""},{mutate:j}=(0,x.D)({mutationFn:e=>c.rR.patch("employer/".concat(e.employerName),JSON.stringify(e.data),{headers:{"Content-Type":"application/json-patch+json"}}),onSuccess:()=>u.invalidateQueries({queryKey:["employer/".concat(o)]}),onError:()=>{alert("There was an issue updating your profile, please try again later."),s()}});return(0,i.jsx)(m.i,{initialValues:v,onSubmit:e=>{let{companyDescription:t}=e;y(!0),j({employerName:o,data:[{op:"replace",path:"/companyDescription",value:t}]}),s()},validationSchema:h.Cr,formDisabled:f,children:(0,i.jsx)("div",{className:"pb-5",children:(0,i.jsx)(d.J,{name:"companyDescription",label:"Provide a brief description of the company",type:"text",as:"textarea",className:"h-52 inputStyle"})})})},y=e=>{let{employerData:t}=e,[r,n]=(0,l.useState)(!1);return(0,i.jsx)(o.f,{open:r,setOpen:n,triggerLabel:(0,i.jsx)(u.zmo,{}),triggerClassName:"light-blue-round-btn",title:"Edit Profile",description:"Make changes to your profile here. Click save when you're done.",children:(0,i.jsx)(f,{employerData:t,afterSave:()=>n(!1)})})};var v=r(9263),j=r(7848),b=r(9008),g=r.n(b),N=e=>{var t;let{user:r,employerName:l}=(0,n.aC)(),{data:o,isLoading:u,isError:d}=(0,j.a)(c.o$.employer.getEmployer(null!==(t=null==r?void 0:r.credential)&&void 0!==t?t:"",l));return u?(0,i.jsx)("div",{children:"Loading"}):d?(0,i.jsx)("div",{children:"error"}):(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(g(),{children:(0,i.jsx)("title",{children:"Employer - Simplwork"})}),(0,i.jsx)("div",{className:"py-10",children:(0,i.jsx)("div",{className:"h-auto flex x-5 gap-7 items-center justify-center pb-10",children:(0,i.jsxs)(s.Z,{className:"flex flex-col justify-center items-center min-w-[350px] py-10 px-10 gap-7",children:[(0,i.jsx)("div",{className:"cursor-pointer",onClick:function(e){console.log("Clicked on button"),console.log(e)},children:(0,i.jsx)(v.m,{image:null==r?void 0:r.picture})}),o&&(0,i.jsxs)("div",{className:"flex items-center gap-3",children:[(0,i.jsxs)("div",{className:"flex justify-center flex-col items-center ",children:[(0,i.jsx)("h1",{className:"text-4xl font-semibold",children:o.companyName}),(0,i.jsx)("h1",{className:"text-lg text-gray-600",children:o.companyDescription})]}),(0,i.jsx)(y,{employerData:o})]})]})})})]})}},2325:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var i=r(5893),n=r(7294),a=r(1163),s=r(8582),l=r(9411);let o=e=>{let{children:t}=e,r=(0,a.useRouter)(),{user:o,isLoggedIn:u}=(0,s.aC)(),[c,d]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{d(!0),o&&u||(localStorage.getItem("userType"),r.replace("/signin")),o&&u&&d(!1)},[o,r,u]),c)?(0,i.jsx)("div",{className:"flex items-center justify-center w-full h-screen animate-spin",children:(0,i.jsx)(l.frZ,{className:"w-12 h-12 text-[#64B1EC]"})}):(0,i.jsx)(i.Fragment,{children:t})}},8083:function(e,t,r){"use strict";r.d(t,{f:function(){return s}});var i=r(5893),n=r(9411),a=r(7851);let s=e=>{let{text:t,disabled:r=!1,className:s,...l}=e;return(0,i.jsxs)("button",{...l,disabled:r,className:(0,a.m)(s,"inline-flex justify-center items-center group py-2 px-3 rounded font-medium button disabled:pointer-events-none group-disabled:pointer-events-none"),children:[(0,i.jsx)(n.frZ,{className:"w-5 h-5 absolute group-enabled:opacity-0 animate-spin"}),(0,i.jsx)("span",{className:"group-disabled:opacity-0",children:t})]})}},3766:function(e,t,r){"use strict";r.d(t,{R:function(){return a}});var i=r(5893),n=r(8083);let a=e=>{let{disabled:t=!1}=e;return(0,i.jsx)(n.f,{type:"submit",text:"Save Changes",className:"bg-green-100 text-green-700 font-medium hover:bg-green-200 active:bg-green-100",disabled:t})}},5021:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var i=r(5893);r(7294);var n=r(7851);let a=e=>{let{className:t,children:r}=e;return(0,i.jsx)("div",{className:(0,n.m)("bg-white rounded-xl shadowSmooth text-gray-800 border-[1.9px] p-5",t),children:r})}},1174:function(e,t,r){"use strict";r.d(t,{S:function(){return a}});var i=r(5893),n=r(5066);let a=e=>{let{name:t}=e;return(0,i.jsx)(n.Bc,{name:t,render:e=>(0,i.jsx)("p",{className:"text-sm font-medium text-red-700 py-1",children:e})})}},6314:function(e,t,r){"use strict";r.d(t,{$N:function(){return u},Be:function(){return c},GG:function(){return m},Vq:function(){return d},hg:function(){return p}});var i=r(5893),n=r(7294),a=r(2854),s=r(4498),l=r(7851);let o=(0,n.forwardRef)((e,t)=>{let{className:r,children:n,...o}=e;return(0,i.jsxs)(a.h_,{children:[(0,i.jsx)(a.aV,{className:"bg-black/30 data-[state=open]:animate-overlayShow fixed inset-0 z-[99]"}),(0,i.jsxs)(a.VY,{...o,ref:t,className:(0,l.m)("z-[100] data-[state=open]:animate-contentShow overflow-auto fixed top-[50%] left-[50%] max-h-[80vh] w-[85%] translate-x-[-50%] translate-y-[-50%] rounded-[6px] bg-white p-[30px] shadow-[hsl(206_22%_7%_/_35%)_0px_10px_38px_-10px,_hsl(206_22%_7%_/_20%)_0px_10px_20px_-15px] focus:outline-none",r),children:[n,(0,i.jsx)(a.x8,{"aria-label":"Close",asChild:!0,children:(0,i.jsx)("button",{className:"text-violet11 hover:bg-violet4 focus:shadow-violet7 absolute top-[5px] right-[5px] inline-flex h-[25px] w-[25px] appearance-none items-center justify-center rounded-full focus:shadow-[0_0_0_2px] focus:outline-none","aria-label":"Close",children:(0,i.jsx)(s.$iT,{})})})]})]})}),u=e=>{let{children:t}=e;return(0,i.jsx)(a.Dx,{className:"text-black m-0 text-2xl font-medium",children:t})},c=e=>{let{children:t}=e;return(0,i.jsx)(a.dk,{className:"text-gray-500",children:t})};o.displayName="DialogContent",t.ZP=o;let d=a.fC,m=a.x8,p=a.xz},4016:function(e,t,r){"use strict";r.d(t,{J:function(){return s},f:function(){return a}});var i=r(5893),n=r(6314);let a=e=>{var t;return(0,i.jsxs)(n.Vq,{open:e.open,onOpenChange:e.setOpen,children:[(0,i.jsx)(n.hg,{asChild:!0,children:(0,i.jsx)("button",{className:null!==(t=e.triggerClassName)&&void 0!==t?t:"button",children:e.triggerLabel})}),(0,i.jsx)(s,{title:e.title,description:e.description,children:e.children})]})},s=e=>{let{title:t,description:r,children:a}=e;return(0,i.jsxs)(n.ZP,{className:"flex flex-col gap-3 w-auto h-auto px-5 md:px-10",children:[(0,i.jsxs)("div",{className:"min-w-[450px]",children:[(0,i.jsx)(n.$N,{children:t}),(0,i.jsx)(n.Be,{children:r})]}),a]})}},5589:function(e,t,r){"use strict";r.d(t,{i:function(){return l}});var i=r(5893),n=r(3766),a=r(5066);r(7294);let s=e=>{let{initialValues:t,onSubmit:r,children:n,...s}=e;return(0,i.jsx)(a.J9,{initialValues:t,onSubmit:r,...s,children:e=>{let{values:t,setFieldValue:r}=e;return(0,i.jsx)(a.l0,{noValidate:!0,children:n})}})},l=e=>{let{initialValues:t,onSubmit:r,validationSchema:a,formDisabled:l=!1,children:o}=e;return(0,i.jsx)(s,{initialValues:t,onSubmit:r,validationSchema:a,children:(0,i.jsxs)("fieldset",{className:"group",disabled:l,children:[o,(0,i.jsx)("div",{className:"flex w-full justify-end gap-3",children:(0,i.jsx)(n.R,{})})]})})}},5497:function(e,t,r){"use strict";r.d(t,{$w:function(){return x},Cr:function(){return d},DY:function(){return c},F:function(){return s},aO:function(){return l},he:function(){return o},pn:function(){return u},uU:function(){return p},ut:function(){return m}});var i=r(7484),n=r.n(i),a=r(6310);r(2130);let s=(0,a.Ry)().shape({fullName:(0,a.Z_)().min(2,"Too Short!").max(50,"Too Long!").required("Full name is required"),age:(0,a.Rx)().min(14,"You must be at least 14 years").max(60,"You must be at most 60 years").required("Age is required"),gender:(0,a.Z_)().required("Gender is required"),phoneNumber:(0,a.Z_)().matches(/^1([0-9]{3})([0-9]{3})([0-9]{4})$/,"Invalid format ex. +1 (123)-456-7890").required("A phone number is required")}),l=(0,a.Ry)().shape({IsAvailability:(0,a.O7)().isTrue("Please calculate availability schedule")}),o=(0,a.Ry)().shape({maximumHours:(0,a.Rx)().min(0,"Please enter a valid hour").max(168,"Please enter a valid hour").required("You must enter this field."),availability:l}),u=(0,a.Ry)().shape({positionTitle:(0,a.Z_)().required("Position title is required."),companyName:(0,a.Z_)().required("Compnay name is required."),details:(0,a.Z_)().required("Position details is required."),startDate:(0,a.hT)().default(n()().toDate()).required("Start date is required.").max(n()().toDate(),"Please choose past date"),endDate:(0,a.hT)().default(n()().toDate()).required("End date is required.").max(n()().toDate(),"Please choose past date").when("startDate",(e,t)=>e&&t.min(e,"End date cannot be before start date")),currWorking:(0,a.O7)()}),c=(0,a.Ry)().shape({maxTravelTimes:(0,a.Ry)({WALK:(0,a.Rx)().positive("Value must be a positive number").max(1e5,"Value too large"),BIKE:(0,a.Rx)().positive("Value must be a positive number").max(1e5,"Value too large"),CAR:(0,a.Rx)().positive("Value must be a positive number").max(1e5,"Value too large"),PUBLIC_TRANSIT:(0,a.Rx)().positive("Value must be a positive number").max(1e5,"Value too large")}),location:(0,a.Ry)().test({name:"Location present?",test:(e,t)=>!!e.longitude&&!!e.latitude||t.createError({message:"Please provide location"})})}),d=(0,a.Ry)().shape({companyDescription:(0,a.Z_)().required("Company description is required.").min(2,"Too Short!").max(2e3,"Maximum 2000 characters, Too Long!")}),m=(0,a.Ry)().shape({companyName:(0,a.Z_)().required("Company name is required.").min(2,"Too Short!").max(500,"Too Long"),companyDescription:(0,a.Z_)().required("Company description is required.").min(2,"Too Short!").max(2e3,"Maximum 2000 characters, Too Long!")}),p=(0,a.Ry)().shape({positionTitle:(0,a.Z_)().required("Position title is required."),pay:(0,a.Rx)().required("Pay is required."),fixedSchedule:(0,a.O7)().required("This field is required."),jobDescription:(0,a.Z_)().required("Job Description is required."),shifts:(0,a.IX)().test({name:"Shifts present?",skipAbsent:!1,test:(e,t)=>(null==e?void 0:e.filter(e=>e.size>0).length)!=0||t.createError({message:"Job schedule cannot be empty"})})}),x=(0,a.Ry)().shape({branchName:(0,a.Z_)().required("Branch name is required")})},5395:function(e,t,r){"use strict";r.d(t,{J:function(){return s}});var i=r(5893),n=r(5066),a=r(1174);let s=e=>{let{name:t,type:r,label:s,errorBelow:l,children:o,...u}=e;return(0,i.jsxs)("div",{className:"w-full h-full",children:[(0,i.jsxs)("div",{className:"w-full flex items-baseline justify-between",children:[(0,i.jsx)("label",{className:"font-medium leading-[35px] flex-shrink-0 mr-5",htmlFor:t,children:s}),!l&&(0,i.jsx)(a.S,{name:t})]}),(0,i.jsx)(n.gN,{name:t,type:r,className:"inputStyle",...u,children:o}),l&&(0,i.jsx)(a.S,{name:t})]})}},9263:function(e,t,r){"use strict";r.d(t,{m:function(){return s}});var i=r(5893),n=r(5675),a=r.n(n);let s=e=>{let{image:t}=e;return(0,i.jsx)("div",{className:"rounded-full w-[150px] h-[150px] bg-sw-100 overflow-hidden flex justify-center items-center shadow-lg ",children:(0,i.jsx)("div",{className:"w-[140px] h-[140px] rounded-full relative overflow-hidden ",children:t&&(0,i.jsx)(a(),{className:"object-cover",src:t.replace("s96-c","s384-c"),alt:"profile picture",fill:!0,quality:100,priority:!0,placeholder:"blur",blurDataURL:t})})})}}},function(e){e.O(0,[228,955,688,705,888,774,179],function(){return e(e.s=9835)}),_N_E=e.O()}]);